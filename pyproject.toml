[project]
name = "perquire"
version = "0.1.0"
description = "Reverse embedding search through systematic questioning - decode unknown embeddings by asking what they represent"
readme = "README.md"
authors = [
    { name = "Franklin Baldo", email = "franklinbaldo@gmail.com" }
]
requires-python = ">=3.9"
dependencies = [
    "numpy>=1.26.0",
    "duckdb>=0.10.0", 
    "rich>=13.7.0",
    "click>=8.1.0",
]

[project.optional-dependencies]
# === API providers (lightweight) ===
api-openai = ["openai>=1.25.0"]
api-gemini = [
    "google-generativeai>=0.4.0",
]
api-anthropic = ["anthropic>=0.19.0"]
api-ollama = ["ollama>=0.1.0"]

# === Web interface ===
web = [
    "fastapi>=0.111.0",
    "uvicorn[standard]>=0.29.0",
    "jinja2>=3.1.0",
    "python-multipart>=0.0.6",
]

# === Development tools ===
dev = [
    "pytest>=8.2.0",
    "hypothesis>=6.100.0",
    "ruff>=0.5.0",
    "mypy>=1.10.0",
]

# === Local inference (heavy - install only if needed) ===
local-embeddings = [
    "sentence-transformers>=2.6.0",
    "torch>=2.2.0",
    "scikit-learn>=1.3.0",
]

# === Legacy llama-index support (deprecated) ===
llama-index = [
    "llama-index>=0.10.0",
    "llama-index-embeddings-gemini>=0.1.0",
    "llama-index-embeddings-openai>=0.1.0",
    "llama-index-llms-gemini>=0.1.0",
    "llama-index-llms-openai>=0.1.0",
    "llama-index-llms-anthropic>=0.1.0",
]

[project.scripts]
perquire = "perquire.cli.lean_main:cli"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"
